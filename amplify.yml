version: 1
frontend:
  phases:
    build:
      commands:
        - cd ui
        - |
          cat > config.js << EOF
          // Auto-generated configuration
          window.CONFIG = {
            API_ENDPOINT: '$API_ENDPOINT',
            ENVIRONMENT: '$ENVIRONMENT'
          };
          EOF
        - cat config.js
  artifacts:
    baseDirectory: ui
    files:
      - '**/*'
